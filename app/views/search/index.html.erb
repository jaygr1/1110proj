

<style>
      #map {
        width: 400px;
        height: 400px;
        background-color: #CCC;
      }
</style>

<script src="https://maps.googleapis.com/maps/api/js"></script>

<div style = "padding-left: 60px;"><h2>Are you interested in...</h2><br></div>
<div style="

    position: absolute;

    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 750px;
    height: 2700 px;
    margin: auto;
    ">
<br><br><br><br><br><br><br>
  <%@results["events"]["event"].sample(1).collect do |result|%>
  
    <center>
    <%if result["image"]%>
    <img src="<%=result["image"]["url"]%>" height="100" width="100"><br>
    <%else%>
    <table border = "1" height="100" width = "100"><tr><td style="text-align:center">No image available!</td></tr></table><br>
    <%end%>
    <a href = "<%=result["url"]%>"><%= result["title"]%></a><br>
    <%if result["description"]%>
    <%=strip_tags(result["description"])%><br><br>
    <%else%>
    No description available.<br><br>
    <%end%>

    <!-- maps -->

    <script>
        function initialize() {

            var mapCanvas = document.getElementById('map');

            var mapOptions = {
                  center: new google.maps.LatLng(<%=result["latitude"]%>, <%=result["longitude"]%>),
                  zoom: 12,
                  mapTypeId: google.maps.MapTypeId.ROADMAP
            }
            var map = new google.maps.Map(mapCanvas, mapOptions);

            var marker = new google.maps.Marker({
            position: {lat: <%=result["latitude"].to_f%>, lng: <%=result["longitude"].to_f%>},
            map: map,
            title: 'Hello World'
        });
        }
        google.maps.event.addDomListener(window, 'load', initialize);
        marker.setMap(map);
    </script>

    <div id="map"> 

    </div>
    <br><br>
    </center>  

  <%end%>
<center>
  <input type="button" value="Show me others!" onClick="history.go(0)"><br><br>
</center>
</div>
</font>


